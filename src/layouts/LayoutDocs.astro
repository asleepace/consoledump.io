---
import '@/styles/global.css'
import Navigation from '@/components/astro/Navigation.astro'
import type { CollectionEntry } from 'astro:content'

type Props = CollectionEntry<'docs'>['data'] & {
  class?: string
}

const className = Astro.props.class

import SiteHead from '@/components/astro/SiteHead.astro'
---

<!doctype html>
<html lang="en" class="overflow-x-hidden">
  <head>
    <SiteHead />
  </head>
  <body
    class:list={[
      'flex flex-col w-full min-h-screen bg-black font-mono overflow-x-hidden',
      className,
    ]}
  >
    <Navigation class:list={['sticky z-100 w-full top-0 left-0 right-0']} />
    <article class="w-full px-4 md:px-6">
      <slot />
    </article>
  </body>
</html>

<style is:global>
  @import 'tailwindcss';
  @import 'tw-animate-css';

  html,
  body {
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* Article container */
  article {
    @apply w-full max-w-3xl mx-auto flex flex-col gap-y-4 text-neutral-200;
    overflow-x: hidden;
  }

  /* Ensure all article children respect width */
  article > * {
    max-width: 100%;
  }

  /* Code block styling - prevent overflow */
  pre {
    max-width: 100% !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
    white-space: pre !important;
    word-wrap: normal !important;
    word-break: normal !important;
  }

  pre > code {
    display: inline-block;
    white-space: pre !important;
    word-wrap: normal !important;
    word-break: normal !important;
  }

  /* Force all code elements to respect wrapping rules */
  pre code,
  pre code span {
    white-space: pre !important;
  }

  /* Inline code */
  :not(pre) > code {
    word-break: break-all;
    overflow-wrap: break-word;
  }

  /* Typography */
  article ul {
    @apply list-disc ms-4 text-neutral-200;
  }

  article ol {
    @apply list-decimal ms-4;
  }

  article ol > li {
    margin-inline-start: 4px;
    margin-inline-end: 4px;
  }

  article li {
    @apply text-neutral-400;
  }

  article a {
    @apply text-orange-400 underline;
    word-break: break-word;
  }

  article p {
    @apply my-1;
  }

  article p {
    @apply text-neutral-400;
  }

  article h1 {
    @apply text-4xl lg:text-5xl font-black pt-6;
  }

  article h2 {
    @apply text-2xl lg:text-3xl font-bold text-neutral-300 mt-8;
  }

  article h3 {
    @apply text-xl lg:text-2xl font-bold;
  }

  article h4 {
    @apply text-lg lg:text-xl text-blue-500 font-bold;
  }
</style>
